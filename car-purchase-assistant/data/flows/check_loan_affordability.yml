flows:
  check_loan_affordability:
    name: "check loan affordability"
    description: Check if the user can afford taking on a new car loan based on their financial situation.
    steps:
      - action: utter_affordability_intro
      - collect: monthly_income
        description: "The user's monthly gross income before taxes"
      - collect: monthly_expenses
        description: "The user's estimated monthly expenses excluding existing debt payments"
      - action: action_validate_financial_info
        next:
          - if: slots.valid_financial_info
            then:
              - action: action_calculate_affordability
              - action: utter_loan_affordability
          - else:
            - action: utter_financial_info_error
